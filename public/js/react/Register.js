!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){var EmailStep=require("./register/EmailStep.jsx"),PasswordStep=require("./register/PasswordStep.jsx"),FinalStep=require("./register/FinalStep.jsx"),ProgressBar=require("./forms/ProgressBar.jsx"),user={},Register=React.createClass({displayName:"Register",getInitialState:function(){return{step:1}},nextStep:function(){1==this.state.step&&(user.email=$("#email").value),2==this.state.step&&(user.password=$("#password").value),this.setState({step:this.state.step+1})},prevStep:function(){this.setState({step:this.state.step-1})},render:function(){var comp;switch(this.state.step){case 1:comp=React.createElement(EmailStep,{nextStep:this.nextStep});break;case 2:comp=React.createElement(PasswordStep,{nextStep:this.nextStep,prevStep:this.prevStep});break;case 3:comp=React.createElement(FinalStep,{prevStep:this.prevStep,user:user})}return React.createElement("div",null,comp,React.createElement("hr",null),React.createElement(ProgressBar,{completed:this.state.step/3*100}))}});React.render(React.createElement(Register,null),$("#content"))},{"./forms/ProgressBar.jsx":3,"./register/EmailStep.jsx":5,"./register/FinalStep.jsx":6,"./register/PasswordStep.jsx":7}],2:[function(require,module,exports){module.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{type:"primary"}},render:function(){return React.createElement("button",{className:"btn-"+this.props.type,onClick:this.props.onClick},this.props.children)}})},{}],3:[function(require,module,exports){module.exports=React.createClass({displayName:"exports",render:function(){return React.createElement("div",{className:"progress-bar"},React.createElement("div",{className:"progress-bar-completed",style:{width:this.props.completed+"%"}}))}})},{}],4:[function(require,module,exports){module.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{type:"info"}},render:function(){return React.createElement("div",{className:"alert alert-"+this.props.type},React.createElement("h3",null,this.props.title),React.createElement("p",null,this.props.children))}})},{}],5:[function(require,module,exports){var Button=require("../forms/Button.jsx");module.exports=React.createClass({displayName:"exports",getInitialState:function(){return{error:!1,message:""}},nextStep:function(){var email=$("#email").value,regex=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;return regex.test(email)?void ajax({url:"api/register/email/"+email,dataType:"text",success:function(result){1==result?this.setState({error:!0,message:"Email is already linked to an account."}):(this.setState({error:!1,message:""}),this.props.nextStep())}.bind(this)}):void this.setState({error:!0,message:"Please enter a valid email."})},next:function(e){13==e.keyCode&&this.nextStep()},render:function(){var inputClass="";return this.state.error&&(inputClass="input-error"),React.createElement("div",{className:"form-step"},React.createElement("div",{className:"form-step-header"},React.createElement("h2",null,"Email"),React.createElement("p",null,"Your email will be used to login to your account, receive notifications, and for account recovery."),React.createElement("hr",null)),React.createElement("div",{className:"form-step-body"},React.createElement("p",{className:"input-error"},this.state.message),React.createElement("input",{type:"email",placeholder:"Enter your email",id:"email",className:inputClass,onKeyDown:this.next})),React.createElement(Button,{onClick:this.nextStep},"Next"))}})},{"../forms/Button.jsx":2}],6:[function(require,module,exports){var Button=require("../forms/Button.jsx"),Alert=require("../misc/Alert.jsx");module.exports=React.createClass({displayName:"exports",getInitialState:function(){return{error:!1,message:""}},componentWillMount:function(){ajax({url:"api/register/",method:"POST",data:this.props.user,dataType:"json",success:function(result){result.error&&this.setState(result)}.bind(this)})},renderError:function(){return React.createElement("div",{className:"form-step"},React.createElement(Alert,{type:"error",title:"Error"},this.state.message),React.createElement(Button,{onClick:this.props.prevStep},"Back"))},renderSuccess:function(){return React.createElement("div",{className:"form-step"},React.createElement(Alert,{type:"success",title:"Account Created"},"You have successfully registered an account. You will not be able to login until you verify your email."),React.createElement("a",{className:"link-lg",href:"login"},"Login"))},render:function(){return this.state.error?this.renderError():this.renderSuccess()}})},{"../forms/Button.jsx":2,"../misc/Alert.jsx":4}],7:[function(require,module,exports){var Button=require("../forms/Button.jsx");module.exports=React.createClass({displayName:"exports",getInitialState:function(){return{error:!1,message:""}},nextStep:function(){var password=$("#password").value,repeat=$("#passwordr").value;password!=repeat?this.setState({error:!0,message:"Passwords do not match."}):password.length<12?this.setState({error:!0,message:"Password needs to be at least 12 characters long."}):(this.setState({error:!1,message:""}),this.props.nextStep())},next:function(e){13==e.keyCode&&this.nextStep()},render:function(){return React.createElement("div",{className:"form-step"},React.createElement("div",{className:"form-step-header"},React.createElement("h2",null,"Password"),React.createElement("p",null,"A password should contain letters, numbers, special characters and be over 12 characters long."),React.createElement("hr",null)),React.createElement("div",{className:"form-step-body"},React.createElement("p",{className:"input-error"},this.state.message),React.createElement("input",{type:"password",id:"password",className:this.state.error?"input-error":"",placeholder:"Password"}),React.createElement("input",{type:"password",id:"passwordr",className:this.state.error?"input-error":"",placeholder:"Confirm",onKeyDown:this.next})),React.createElement(Button,{onClick:this.props.prevStep},"Back"),React.createElement(Button,{onClick:this.nextStep},"Next"))}})},{"../forms/Button.jsx":2}]},{},[1]);