!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){var Button=require("./forms/Button.jsx"),Alert=require("./misc/Alert.jsx"),serviceId=0,LinkService=React.createClass({displayName:"LinkService",getInitialState:function(){return{error:!1,linked:!1,message:""}},componentWillMount:function(){serviceId=window.location.pathname.split("/")[2],ajax({url:"../api/service/"+serviceId,dataType:"json",success:function(data){this.setState(data,function(){console.log(JSON.stringify(this.state))})}.bind(this)})},link:function(){if(0!=React.findDOMNode(this.refs.profile).value)var data={profile:React.findDOMNode(this.refs.profile).value,required:React.findDOMNode(this.refs.profile_allow_required).checked,optional:React.findDOMNode(this.refs.profile_allow_optional).checked};else var data={email:React.findDOMNode(this.refs.email).value,fname:React.findDOMNode(this.refs.fname).value,lname:React.findDOMNode(this.refs.lname).value,gender:React.findDOMNode(this.refs.gender).value,phone:React.findDOMNode(this.refs.phone).value,birthdate:React.findDOMNode(this.refs.birthdate).value,address:React.findDOMNode(this.refs.address).value,zip:React.findDOMNode(this.refs.zip).value,region:React.findDOMNode(this.refs.region).value,country:React.findDOMNode(this.refs.country).value};ajax({url:"../api/service/link/"+serviceId,method:"POST",dataType:"json",data:data,success:function(data){data.error?this.setState(data):(this.setState(data),this.setState({linked:!0}),this.createSession())}.bind(this)})},createSession:function(){ajax({url:"../api/service/session/"+serviceId,method:"POST",dataType:"json",success:function(data){parent.postMessage(data,data.address)}.bind(this)})},render:function(){var userAlert;if(this.state.error?userAlert=React.createElement(Alert,{type:"error",title:"Error!"},this.state.message):this.state.message&&(userAlert=React.createElement(Alert,{type:"success",title:"Success!"},this.state.message)),this.state.linked||!this.state.service)return React.createElement("div",null,userAlert);var s=this.state.service,requiredInfo=[];for(var key in s.requested.required)s.requested.required.hasOwnProperty(key)&&requiredInfo.push(React.createElement("dl",null,React.createElement("dt",null,key),React.createElement("dd",null,s.requested.required[key])));var optionalInfo=[];for(var key in s.requested.optional)s.requested.optional.hasOwnProperty(key)&&optionalInfo.push(React.createElement("dl",null,React.createElement("dt",null,key),React.createElement("dd",null,s.requested.optional[key])));var profiles=[];return this.state.profiles.forEach(function(profile){profiles.push(React.createElement("option",{value:profile.profile_id},profile.name))}),React.createElement("div",{className:"service-form-view"},React.createElement("h2",null,s.name),React.createElement("p",null,s.description),userAlert,React.createElement("hr",null),React.createElement("div",{className:"service-info service-info-required"},React.createElement("h4",null,"required information:"),requiredInfo),React.createElement("div",{className:"service-info service-info-optional"},optionalInfo.length>0?React.createElement("h4",null,"optional information:"):"",optionalInfo),React.createElement(Button,{onClick:this.link},"Link Service"),React.createElement("hr",null),React.createElement("h2",null,"Load Data From Profile"),React.createElement("p",null,"Choose a profile and ",s.name," will automatically access information you allow from the profile."),React.createElement("select",{ref:"profile",className:"profile-selector"},React.createElement("option",{value:"0"},"-"),profiles),React.createElement("input",{type:"checkbox",ref:"profile_allow_required",defaultChecked:!0}),"Allow Access to Required Data",React.createElement("input",{type:"checkbox",ref:"profile_allow_optional"}),"Allow Access to Optional Data",React.createElement("h3",null,"~~ or ~~"),React.createElement("h2",null,"Set Custom Data"),React.createElement("p",null,"Set data that only this service will be able to access."),React.createElement("input",{type:"email",placeholder:"Email",ref:"email"}),React.createElement("br",null),React.createElement("input",{type:"text",placeholder:"First Name",ref:"fname"}),React.createElement("input",{type:"text",placeholder:"Last Name",ref:"lname"}),React.createElement("select",{ref:"gender"},React.createElement("option",{value:"0"},"-"),React.createElement("option",{value:"1"},"Male"),React.createElement("option",{value:"2"},"Female"),React.createElement("option",{value:"3"},"Other")),React.createElement("input",{type:"tel",placeholder:"Phone Number",ref:"phone"}),React.createElement("input",{type:"text",placeholder:"Birthdate (2020-07-31)",ref:"birthdate"}),React.createElement("br",null),React.createElement("input",{type:"text",placeholder:"Address",ref:"address"}),React.createElement("input",{type:"number",placeholder:"Zip",ref:"zip"}),React.createElement("input",{type:"text",placeholder:"Region/State/Province",ref:"region"}),React.createElement("input",{type:"text",placeholder:"Country (US/CA/UK/etc)",ref:"country"}))}});React.render(React.createElement(LinkService,null),$("#content"))},{"./forms/Button.jsx":2,"./misc/Alert.jsx":3}],2:[function(require,module,exports){module.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{type:"primary"}},render:function(){return React.createElement("button",{className:"btn-"+this.props.type,onClick:this.props.onClick},this.props.children)}})},{}],3:[function(require,module,exports){module.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{type:"info"}},render:function(){return React.createElement("div",{className:"alert alert-"+this.props.type},React.createElement("h3",null,this.props.title),React.createElement("p",null,this.props.children))}})},{}]},{},[1]);